<html>

<head>
    {{{head}}}
    <style>
        .info-box {
            background-color: #212129;
            border: 1px solid #000;
        }

        .widget-box-row:nth-child(even) {
            background: linear-gradient(to right, rgb(41, 40, 53) 0%, rgba(255, 255, 255, 0) 100%);
            border-top: 1px solid RGBA(0, 0, 0, 0.47);
            border-bottom: 1px solid RGBA(0, 0, 0, 0.48);
        }

        .widget-box-row {
            padding: 8px;
            background: #212129;
            font-size: 12px;
            overflow: hidden;
            word-wrap: break-word;
        }

        .widget-box-row strong {
            color: #ffc400 !important;
        }

        .ability-box {
            display: block;
            border: 1px solid #111;
            border-bottom: 1px solid #2e2e2e;
            background: #0f0f0f;
            padding: 0px;
            overflow: hidden;
        }

        .talent-row {
            display: block;
            margin-bottom: 5px;
            position: relative;
            overflow: hidden;
        }

        .talent-row .talent-box {
            width: 48%;
            float: left;
            direction: ltr;
            text-align: center;
            padding: 15px 0;
            border: 1px solid #000;
            background: linear-gradient(to right, rgb(41, 40, 53) 0%, rgba(255, 255, 255, 0) 100%);
        }

        .talent-row .talent-box.reverseBG {
            background: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgb(41, 40, 53) 100%);
        }

        .talent-row .divider {
            width: 4%;
            float: left;
        }

        .talent-row .talent-level {
            position: absolute;
            top: 2px;
            left: 47%;
            right: auto;
            background: radial-gradient(ellipse farthest-corner at center 0px, #31a2a6 -150%, #4b495f 45%, #4b495f 85%);
            ;
            border: 1px solid #000;
            color: white;
            width: 50px;
            height: 50px;
            text-align: center;
            vertical-align: text-top;
            padding-top: 12px;
            border-radius: 50%;
        }

        .build-box {
            display: block;
            border: 1px solid #111;
            border-bottom: 1px solid #2e2e2e;
            background: #0f0f0f;
            padding: 0px;
            overflow: hidden;
            color: white !important;
            text-decoration: none !important;
        }

        .build-box:hover {
            background: #3e3e3e;
            /* border:1px solid #ff8800; */
        }

        .build-box .icon-wrapper {
            width: 128px;
            display: inline-block;
            float: right;
            padding: 5px;
        }

        .build-box .icon-wrapper img {
            border-radius: 2px;
        }

        .build-box .content-wrapper {
            max-width: 70%;
            display: inline-block;
            float: right;
            padding: 5px;
        }

        .build-box .content-wrapper h4 {
            font-size: 18px;
        }

        .build-box .content-wrapper .username {
            font-size: 12px;
            color: #ff8800;
        }

        .build-box .content-wrapper .item-wrapper {
            margin-top: 5px;
        }

        .build-box .content-wrapper .item-wrapper .item {
            width: 48px;
        }

        .build-box .vote-wrapper {
            float: left;
            padding: 5px;
        }

        .build-box .vote-wrapper span {
            display: block;
            font-size: 12px;
            margin: 5px 0;
            color: #f0f1f2;
        }

        hr {
            border-top-color: #3a3a3a;
        }

        /* myToolTips */
        .myToolTip {
            /* display: inline-block; */
            position: relative;
        }

        .myToolTip .top {
            min-width: 40vw;
            word-break: keep-all;
            top: -10px;
            left: 50%;
            transform: translate(-50%, -100%);
            padding: 5px 10px;
            color: #fefefe;
            /* background-color: #1e1e1e; */
            background : radial-gradient(ellipse farthest-corner at center 0px,#31a2a6 -150%,#333240 45%,#333240 85%);
            font-weight: normal;
            font-size: 12px;
            border-radius: 8px;
            position: absolute;
            z-index: 99999999;
            box-sizing: border-box;
            box-shadow: 0 1px 8px rgba(0, 0, 0, 0.5);
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.8s;
        }

        .myToolTip:hover .top {
            visibility: visible;
            opacity: 1;
        }
        .myToolTip .top .text-english p{
            direction: ltr;
            text-align: left;
        }
        .myToolTip .top .text-english b,.myToolTip .top .text-english strong{
            color:#ffc400 !important;
        }

        .myToolTip .top i {
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -12px;
            width: 24px;
            height: 12px;
            overflow: hidden;
        }

        .myToolTip .top i::after {
            content: '';
            position: absolute;
            width: 12px;
            height: 12px;
            left: 50%;
            transform: translate(-50%, -50%) rotate(45deg);
            background-color: #EEEEEE;
            box-shadow: 0 1px 8px rgba(0, 0, 0, 0.5);
        }
    </style>
</head>

<body>
    {{{navbar}}}
    <section class="parralax-fixed-height" style="background-image:url('{{champion.cover}}');height:150px;position: relative">
        <div class="wog-overlay"></div>
        <div class="container text-center" style="z-index:1;position: relative;padding-top:35px">
            <h1 class="shadow-text" style="color:white;">{{champion.name}}</h1>
        </div>
    </section>
    <section class="bg-section" style="padding:10px 0">
        <div class="container">
            <div class="row">
                <div class="col-md-3">
                    <div class="widget-box" style="margin-bottom:10px;">
                        <div class="title-wrapper">
                            <h3>{{champion.name}}</h3>
                        </div>
                        <div class="content-wrapper" style="overflow:hidden;">
                            <img src="{{champion.icon}}" width="100%" />
                            <div class="widget-box-row"><strong>نام :</strong>&nbsp;&nbsp;<span>{{champion.name}}</span></div>
                            <div class="widget-box-row"><strong>معروف به :</strong>&nbsp;&nbsp;<span>{{champion.nickname}}</span></div>
                            <div class="widget-box-row"><strong>گروه :</strong>&nbsp;&nbsp;<span>{{champion.faction}}</span></div>
                            <div class="widget-box-row"><strong>نوع حمله :</strong>&nbsp;&nbsp;<span>{{champion.attackType}}</span></div>
                            <div class="widget-box-row"><strong>Roles :</strong><br><span>{{champion.roles_str}}</span></div>
                        </div>
                    </div>
                    <div class="widget-box">
                        <div class="title-wrapper">
                            <h3>{{champion.name}}'s Stats</h3>
                        </div>
                        <div class="content-wrapper" style="overflow:hidden;">
                            <div class="widget-box-row"><strong style="display:inline-block">Strength :</strong>&nbsp;&nbsp;<span
                                    style="display:inline-block;direction: ltr;text-align: left;font-family: Tahoma;">{{champion._stats.Strength}}</span></div>
                            <div class="widget-box-row"><strong style="display:inline-block">Agility :</strong>&nbsp;&nbsp;<span
                                    style="display:inline-block;direction: ltr;text-align: left;font-family: Tahoma;">{{champion._stats.Agility}}</span></div>
                            <div class="widget-box-row"><strong style="display:inline-block">Intelligence :</strong>&nbsp;&nbsp;<span
                                    style="display:inline-block;direction: ltr;text-align: left;font-family: Tahoma;">{{champion._stats.Intelligence}}</span></div>
                            <div class="widget-box-row"><strong style="display:inline-block">Health :</strong>&nbsp;&nbsp;<span
                                    style="display:inline-block;direction: ltr;text-align: left;font-family: Tahoma;">{{champion._stats.Health}}</span></div>
                            <div class="widget-box-row"><strong style="display:inline-block">Mana :</strong>&nbsp;&nbsp;<span
                                    style="display:inline-block;direction: ltr;text-align: left;font-family: Tahoma;">{{champion._stats.Mana}}</span></div>
                            <div class="widget-box-row"><strong style="display:inline-block">Damage :</strong>&nbsp;&nbsp;<span
                                    style="display:inline-block;direction: ltr;text-align: left;font-family: Tahoma;">{{champion._stats.Damage}}</span></div>
                            <div class="widget-box-row"><strong style="display:inline-block">Armor :</strong>&nbsp;&nbsp;<span
                                    style="display:inline-block;direction: ltr;text-align: left;font-family: Tahoma;">{{champion._stats.Movement}}</span></div>
                            <div class="widget-box-row"><strong style="display:inline-block">Movement :</strong>&nbsp;&nbsp;<span
                                    style="display:inline-block;direction: ltr;text-align: left;font-family: Tahoma;">112.5
                                    at 25 (25 + 3.5/level)</span></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-9">
                    <!-- abilities -->
                    <h2 style="margin:10px 0">قابلیت ها</h2>
                    <div class="row">
                        {{#champion.abilities}}
                        <div class="col-md-6 col-12">
                            <div class="info-box myToolTip" style="padding:5px;margin-bottom:5px;">
                                <div class="top">
                                    <h3>{{title}}</h3>
                                    <div class="text-persian">{{{descriptionPersian}}}</div>
                                    <div class="text-english">{{{description}}}</div>
                                </div>
                                <i></i>
                                <div style="overflow:hidden">
                                    <div style="float:right">
                                        <img src="{{icon}}" width="72px" />
                                    </div>
                                    <div style="float:right;padding-right:10px;max-width:70%">
                                        <h3 style="font-size:14px;">{{title}}</h3>
                                        <p style="font-size:12px;">{{{descriptionPersian}}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {{/champion.abilities}}
                    </div>
                    <!-- talents -->
                    <h2 style="margin:10px 0">توانمندی ها (Talents)</h2>
                    {{#champion.talents}}
                    <div class="talent-row">
                        <div class="talent-box">{{a}}</div>
                        <div class="divider">&nbsp;</div>
                        <div class="talent-box reverseBG">{{b}}</div>
                        <div class="talent-level">{{level}}</div>
                    </div>
                    {{/champion.talents}}
                    <hr />
                    <!-- lore -->
                    <h2 style="margin:10px 0">داستان (Lore)</h2>
                    <div class="text-english" style="direction:ltr;text-align: left">
                        {{{champion.lore}}}
                    </div>
                    <a href="{{champion.loreUrl}}" class="btn btn-sm btn-black">
                        <span>مشاهده داستان کامل</span>
                    </a>
                    <!-- end lore-->
                    <!-- gallery -->
                    <div>
                        <h2 style="margin:10px 0">گالری</h2>
                        <div style="width:100%;height:300px;overflow-x:scroll;overflow-y:hidden;">
                            <div style="width:300px;float:right">
                                <img src="images/bflanding.jpg" height="100%" />
                            </div>
                            <div style="width:300px;float:right">
                                <img src="images/bflanding.jpg" height="100%" />
                            </div>
                            <div style="width:300px;float:right">
                                <img src="images/bflanding.jpg" height="100%" />
                            </div>
                            <div style="width:300px;float:right">
                                <img src="images/bflanding.jpg" height="100%" />
                            </div>
                            <div style="width:300px;float:right">
                                <img src="images/bflanding.jpg" height="100%" />
                            </div>
                        </div>
                    </div>
                    <!-- end gallery -->
                    <h3 style="margin:10px 0;">تازه های آموزش ها:</h3>
                    <div id="builds-box">
                        <div name="loading" class="text-center" style="margin:10px 0;width:100%;">
                            <img src="/images/loading.gif" width="72px" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <script>
        let champion = null;
        let game = null;
        getChampion(`{{champion._id}}`, (c) => {
            champion = c;
            getGame(champion.gameId, (g) => {
                game = g;
                getBuilds('?champId=' + champion._id, game, [champion], (builds) => {
                    console.log(`This champ has ${builds.length} builds!`);
                    console.log(builds);
                    for (var i = 0; i < builds.length; i++) {
                        var b = builds[i];
                        $("#builds-box").append(
                            `<a class="card build-box" href="${b.siteUrl}">`
                            + `<div class="icon-wrapper"><img src="${champion.icon}" width="100%"></div>`
                            + `<div class="content-wrapper"><h4>${b.title}</h4><small>توسط:&nbsp;<b class="username"><span userId="${b.userId}" label="username">??</span></b></small><br><small>نوشته شده در: <span class="text-english go-ltr">${b.createdAt}</span></small><div style="margin:5px 0"><span class="badge badge-sm badge-warning">${b.patch}</span></div></div>`
                            + `<div class="vote-wrapper"><span><i class="fas fa-thumbs-up"></i>&nbsp;&nbsp;0 رای</span><span><i class="fas fa-eye"></i>&nbsp;&nbsp;0 بازدید</span><span><i class="fas fa-comment"></i>&nbsp;&nbsp;0 نظر</span></div>`
                            + `</a>`
                        );
                        const userId = b.userId;
                        getUser(userId, (user) => {
                            var thing = $(`[userId=${userId}]`);
                            var label = $(thing).attr('label');
                            $(thing).html(user[label]);
                        });
                    }
                    $("#builds-box [name=loading]").hide();
                });
            });

        });
    </script>
    {{{footer}}}
</body>

</html>