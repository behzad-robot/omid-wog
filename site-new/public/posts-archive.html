<html>

<head>
    {{{head}}}
    <!-- seo head -->
    <title>{{title}}-{{_wogSEO.title}}</title>
    <meta name="description" content="{{_wogSEO.description}}">
    <meta name="keywords" itemprop="keywords" content="{{_wogSEO.keywords}}">
    <link rel="canonical" href="http://worldofgamers.ir/">

    <meta property="og:locale" content="fa_IR">
    <meta property="og:type" content="article">
    <meta property="og:title" content="{{_wogSEO.title}}">
    <meta property="og:description" content="{{_wogSEO.description}}">
    <meta property="og:url" content="{{_wogSEO.fullUrl}}">
    <meta property="og:image" content="http://worldofgamers.ir/wog-logo.png">
    <meta property="og:site_name" content="واج">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@wogcompany">
    <meta name="twitter:description" content="{{_wogSEO.description}}">
    <meta name="twitter:title" content="{{_wogSEO.title}}">
    <meta name="twitter:image" content="http://worldofgamers.ir/images/wog-log.png">
    <!-- end -->
    <style>
        .div-outer {
            width: 100%;
            position: relative;
            display: block;
        }

        .div-middle {
            background-color: rgba(0, 0, 0, 0.3);
            z-index: 2;
            position: absolute;
        }

        .div-inner {
            z-index: 1;
            position: absolute;
        }

        .div-middle:hover {
            background-color: rgba(0, 0, 0, 0.7)
        }

        .div-text {
            position: absolute;
        }

        .grid-image {
            width: 100%;
            height: auto;
        }

        .customTitle {
            margin-right: 20px;
            position: relative;
            display: inline-block;
            background-color: orange;
            color: whitesmoke !important;
            padding: 8px 17px 0;
            font-size: 14px !important;
            margin-bottom: 7px;
            height: 37px;
        }

        .customTitle:after {
            content: '';
            position: absolute;
            left: -33px;
            top: 0;
            width: 0;
            height: 0;
            border-bottom: 37px solid orange;
            border-left: 34px solid transparent;
        }

        .boxWrapper {
            background: #fff;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .grid-post-box {
            position: relative;
            height: 225px;
        }

        .grid-post-box.big {
            height: 450px;
        }

        @media (max-width: 576px) {
            .grid-post-box.big {
                height: 225px;
            }
        }

        .grid-post-box .post-thumbail {
            position: absolute;
            background-size: cover;
            background-position: center;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1;
        }

        .grid-post-box .overlay {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background: rgba(0, 0, 0, 0.4);
            z-index: 2;
            transition: 0.3s all;
        }

        .grid-post-box .overlay:hover {
            background: rgba(255, 255, 255, 0);

        }

        .grid-post-box .details {
            position: absolute;
            width: 100%;
            right: 0;
            bottom: 0;
            color: #fff;
            padding: 15px 10px;
            text-shadow: 1px 1px 3px #000;
            z-index: 3;
            background: linear-gradient(180deg, rgba(0, 0, 0, 0) 29%, rgba(0, 0, 0, 1) 100%);

        }

        .grid-post-box .details h1 {
            font-size: 1.2rem;
        }

        .grid-post-box .details small {
            font-size: 0.6rem;
        }

        .date {
            font-size: 10px;
        }



        .white-box {
            background: white;
        }

        .post-box {
            background-color: white;
            box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.1);
            display: block;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .post-box a {
            color: initial !important;
            text-decoration: none !important;
        }

        .post-box .post-box-content {
            padding: 10px 20px;
        }

        .post-box.post-box-small h1 {
            font-size: 1.2rem;
            font-weight: bolder;
        }

        .post-box.post-box-small p {
            font-size: 0.95rem;
        }

        .post-box .date {
            color: #455A64;
            font-size: 0.8rem;
        }

        .post-box a.author {
            color: #455A64 !important;
            font-size: 0.8rem;
        }

        .post-box a.author:hover {
            color: orange !important;
        }

        .post-box .date .fas {
            position: relative;
            top: 2px;
        }

        @media (max-width:576px) {
            .post-box.post-box-small p {
                display: none;
            }
        }

        .triangle-title {
            background-color: #F7931E;
            color: black;
            width: fit-content;
            margin: 10px 0;
            padding: 5px 10px;
            position: relative;
        }

        .tail {
            background-image: url('/images/triangle-orange.svg');
            height: 32px;
            width: 32px;
            position: absolute;
            top: 0;
            right: 5px;
            display: inline-block;
        }

        .sidebar-aparat-box {
            padding: 0;
            margin-bottom: 5px;
            position: relative;
            background-color: white;
            padding: 5px;
            border-radius: 3px;
            box-shadow: 1px 2px 3px rgba(0, 0, 0, 0.1);
            transition: all 1s;
            pointer-events: all;
            display: block;
            color: initial !important;
            text-decoration: none !important;
        }

        .sidebar-aparat-box:hover {
            background-color: #f0f1f2;
        }

        .sidebar-aparat-box:hover .aparat {
            transform: rotate(120deg);
        }

        .sidebar-aparat-box .aparat {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 24px;
            transition: all 0.6s;
        }

        .sidebar-aparat-box .video-title {
            font-size: 1rem;
            margin-top: 5px;
            max-lines: 1;
            text-overflow: clip;
            max-height: 1rem;
            overflow: hidden;
            word-wrap: break-word;
            font-weight: 300;
        }

        .sidebar-aparat-box .thumbnail {
            width: 100%;
            height: 160px;
            background-size: cover;
            background-position: center;
        }

        .upcoming-game-box {
            background-size: cover;
            background-position: center;
            height: 160px;
            display: block;
            width: 100%;
            position: relative;
            border-radius: 5px;
            margin-bottom: 5px;
        }

        .upcoming-game-box .overlay {
            border-radius: 5px;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 2;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .upcoming-game-box .content {
            position: relative;
            z-index: 10;
            text-align: center;
            padding-top: 20px;
        }

        .upcoming-game-box .title {
            font-size: 1.6rem;
        }

        .upcoming-game-box .subtitle {
            font-size: 0.8rem;
        }

        .upcoming-game-box .icon {
            height: 64px;
        }
    </style>
</head>

<body>
    {{{navbar}}}
    <navfiller></navfiller>
    {{#hasGrid}}
    <section style="margin:20px 0">
        <div class="container">
            <div class="row">
                <div class="col-md-3 col-12" style="padding:0">
                    <a href="{{{gridPosts1.siteUrl}}}">
                        <div class="grid-post-box">
                            <div class="post-thumbail"
                                style="background-image:url('{{{gridPosts1.thumbnail_640x480}}}')">
                            </div>
                            <div class="overlay"></div>
                            <div class="details">
                                <h1>{{{gridPosts1.title}}}</h1>
                                <small><span
                                        class="fas fa-calendar"></span>&nbsp;{{{gridPosts1.createdAt_persian}}}</small>
                            </div>
                        </div>
                    </a>
                    <a href="{{{gridPosts2.siteUrl}}}">
                        <div class="grid-post-box">
                            <div class="post-thumbail"
                                style="background-image:url('{{{gridPosts2.thumbnail_640x480}}}')">
                            </div>
                            <div class="overlay"></div>
                            <div class="details">
                                <h1>{{{gridPosts2.title}}}</h1>
                                <small><span
                                        class="fas fa-calendar"></span>&nbsp;{{{gridPosts2.createdAt_persian}}}</small>
                            </div>
                        </div>
                    </a>
                </div> <!-- col-md-3-->
                <div class="col-md-6 col-12" style="padding:0">
                    <a href="{{{gridPosts0.siteUrl}}}">
                        <div class="grid-post-box big">
                            <div class="post-thumbail"
                                style="background-image:url('{{{gridPosts0.thumbnail_800x600}}}')">
                            </div>
                            <div class="overlay"></div>
                            <div class="details">
                                <h1>{{{gridPosts0.title}}}</h1>
                                <small><span
                                        class="fas fa-calendar"></span>&nbsp;{{{gridPosts0.createdAt_persian}}}</small>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-md-3 col-12" style="padding:0">
                    <a href="{{{gridPosts3.siteUrl}}}">
                        <div class="grid-post-box">
                            <div class="post-thumbail"
                                style="background-image:url('{{{gridPosts3.thumbnail_640x480}}}')">
                            </div>
                            <div class="overlay"></div>
                            <div class="details">
                                <h1>{{{gridPosts3.title}}}</h1>
                                <small><span
                                        class="fas fa-calendar"></span>&nbsp;{{{gridPosts3.createdAt_persian}}}</small>
                            </div>
                        </div>
                    </a>
                    <a href="{{{gridPosts4.siteUrl}}}">
                        <div class="grid-post-box">
                            <div class="post-thumbail"
                                style="background-image:url('{{{gridPosts4.thumbnail_640x480}}}')">
                            </div>
                            <div class="overlay"></div>
                            <div class="details">
                                <h1>{{{gridPosts4.title}}}</h1>
                                <small><span
                                        class="fas fa-calendar"></span>&nbsp;{{{gridPosts4.createdAt_persian}}}</small>
                            </div>
                        </div>
                    </a>
                </div> <!-- col-md-3-->
            </div> <!-- row -->
        </div> <!-- container -->
    </section>
    {{/hasGrid}}

    <section style="padding:10px 0">
        <div class="container">
            <div class="row">
                <div class="col-md-8">
                    <h3 class="orange-title">{{title}}:</h3>
                    <div id="posts-list">
                    {{#posts}}
                    {{#extras.bigBox}}
                    <div class="post-box">
                        <a href="{{siteUrl}}">
                            <img src="{{thumbnail_800x600}}" alt="" style="width:100%;padding:5px;">
                        </a>
                        <div class="post-box-content">
                            <a href="{{siteUrl}}">
                                <h1>{{title}}</h1>
                            </a>
                            <p>{{{intro}}}</p>
                            <div class="date">
                                <a href="{{_author.siteUrl}}" class="author"><span class="fas fa-user"></span>&nbsp;
                                    {{{_author.username}}}</a>&nbsp;&nbsp;
                                <span class="fas fa-calendar"></span>&nbsp;
                                {{{createdAt_persian}}}
                            </div>
                        </div>

                    </div>
                    {{/extras.bigBox}}
                    {{^extras.bigBox}}
                    <div class="post-box post-box-small" style="padding:10px 10px;">
                        <div class="row">
                            <div class="col-md-4 col-6">
                                <a href="{{siteUrl}}"><img src="{{thumbnail_800x600}}" alt="" style="width:100%"></a>
                            </div>
                            <div class="col-md-8 col-6" style="padding-right:0px;">
                                <a href="{{siteUrl}}">
                                    <h1>{{title}}</h1>
                                </a>
                                <p>{{{intro}}}</p>
                                <div class="date">
                                    <a href="{{_author.siteUrl}}" class="author">
                                        <span class="fas fa-user"></span>&nbsp;{{{_author.username}}}
                                    </a>
                                    &nbsp;&nbsp;
                                    <span class="fas fa-calendar"></span>&nbsp;
                                    {{createdAt_persian}}
                                </div>
                            </div>
                        </div>
                    </div>
                    {{/extras.bigBox}}
                    {{/posts}}
                    </div>
                    {{#hasLoadMore}}
                    <div class="text-center" style="padding:10px 0">
                        <div id="loadMoreBtn" class="btn btn-md btn-warning">بیشتر</div>
                    </div>
                    <div id="loading" class="text-center" style="display:none">
                        <div class="lds-ellipsis">
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                        </div>
                    </div>
                    <div id="error" style="color:#a00;">

                    </div>
                    {{/hasLoadMore}}
                    <script>
                        let baseParams = `{{{loadMoreParams}}}`;
                        let offset = 20;
                        let allLoaded  = false;
                        $(() =>
                        {
                            $("#loadMoreBtn").click(() =>
                            {
                                $("#loading").show();
                                $("#loadMoreBtn").hide();
                                console.log('load more btn clicked');
                                let query = (baseParams != '' ? (baseParams + '&offset=' + offset) : (baseParams + '?offset=' + offset));
                                console.log('/posts/load-more/' + query);
                                fetch('/posts/load-more/' + query, {
                                    method: 'GET',
                                    headers: {
                                        'Accept': 'application/json',
                                        'Content-Type': 'application/json'
                                    },
                                }).then((response => response.json())).then((result) =>
                                {
                                    $("#loading").hide();
                                    $("#loadMoreBtn").show();
                                    console.log(result);
                                    if (result.error != undefined)
                                    {
                                        $("#error").html(result.error);
                                    }
                                    else
                                    {
                                        offset += 20;
                                        let posts = result._data;
                                        if(posts.length < 20)
                                        {
                                            allLoaded = true;
                                            $("#loadMoreBtn").hide();
                                        }
                                        for (var i = 0; i < posts.length; i++)
                                        {
                                            let post = posts[i];
                                            console.log(post.title);
                                            if (post.extras.bigBox)
                                            {
                                                $("#posts-list").append(
                                                    `
                                                    <div class="post-box">
                                                        <a href="${post.siteUrl}">
                                                            <img src="${post.thumbnail_800x600}" alt="" style="width:100%;padding:5px;">
                                                        </a>
                                                        <div class="post-box-content">
                                                            <a href="${post.siteUrl}">
                                                                <h1>${post.title}</h1>
                                                            </a>
                                                            <p>${post.intro}</p>
                                                            <div class="date">
                                                                <a href="${_author.siteUrl}" class="author"><span class="fas fa-user"></span>&nbsp;
                                                                    ${post._author.username}</a>&nbsp;&nbsp;
                                                                <span class="fas fa-calendar"></span>&nbsp;
                                                                ${post.createdAt_persian}
                                                            </div>
                                                        </div>

                                                    </div>  
                                                    `
                                                );
                                            }
                                            else
                                            {
                                                $("#posts-list").append(`
                                                <div class="post-box post-box-small" style="padding:10px 10px;">
                                                    <div class="row">
                                                        <div class="col-md-4 col-6">
                                                            <a href="${post.siteUrl}"><img src="${post.thumbnail_800x600}" alt="" style="width:100%"></a>
                                                        </div>
                                                        <div class="col-md-8 col-6" style="padding-right:0px;">
                                                            <a href="${post.siteUrl}">
                                                                <h1>${post.title}</h1>
                                                            </a>
                                                            <p>${post.intro}</p>
                                                            <div class="date">
                                                                <a href="${post._author.siteUrl}" class="author">
                                                                    <span class="fas fa-user"></span>&nbsp;${post._author.username}
                                                                </a>
                                                                &nbsp;&nbsp;
                                                                <span class="fas fa-calendar"></span>&nbsp;
                                                                ${post.createdAt_persian}
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                `);
                                            }
                                        }
                                    }
                                });
                            });
                        });
                    </script>
                </div> <!-- col-md-8 -->
                <div class="col-md-4">
                    <h6 class="orange-title">ویدئو ها</h6>
                    {{#aparatVideos}}
                    <a class="sidebar-aparat-box text-center" href="{{url}}" target="_blank">
                        <!-- <img src="{{thumbnail}}" width="100%" /> -->
                        <div class="thumbnail" style="background-image:url('{{thumbnail}}')"></div>
                        <img src="/images/aparat-icon.png" class="aparat" />
                        <h1 class="video-title">{{title}}</h1>
                    </a>
                    {{/aparatVideos}}
                    <h6 class="orange-title">بازی های مورد انتظار</h6>
                    {{#upComingGames}}
                    <div class="upcoming-game-box" style="background-image:url('{{thumbnail}}')">
                        <div class="overlay"></div>
                        <div class="content">
                            {{#icon}}
                            <img src="{{icon}}" class="icon" />
                            {{/icon}}
                            <h1 class="title text-white text-shadow">{{title}}</h1>
                            <h2 class="subtitle text-white text-shadow">{{date}}</h2>
                        </div>
                    </div>
                    {{/upComingGames}}
                </div>
            </div>
        </div>
    </section>
</body>
{{{footer}}}

</html>