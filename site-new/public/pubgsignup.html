<html>

<head>
    {{{head}}}
    <title>ثبت نام مسابقات پاجی موبایل</title>
    <style>

    </style>
</head>

<body>
    <section>
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-4 text-white" style="background-color: #1f1f1f;">
                    <div style="padding:20px 40px;">
                        <h2 style="color:orange;margin-bottom:15px;">ثبت نام تیم مسابقات</h2>
                        <div style="margin-bottom:10px;">
                            <h3 id="topHeader" style="color:#eeeeee;font-size:18px;display: inline;"> مشخصات</h3>
                            <h3 id="header" style="color:orange;font-size:18px;display: inline;"> سرگروه:</h3>
                        </div>
                        <form action="/pubg-tournament/submit" method="POST" id="signupForm">
                            <div id="member1">
                                <input label="firstName" type="text" name="member1FirstName" class="form-control dark"
                                    style="width:100%;height:37px;margin-top: 10px" placeholder="نام">
                                <input label="lastName" type="text" name="member1LastName" class="form-control dark"
                                    style="width:100%;height:37px;margin-top: 10px" placeholder="نام خانوادگی">
                                <input label="phoneNumber" type="text" name="member1PhoneNumber"
                                    class="form-control dark" style="width:100%;height:37px;margin-top: 10px"
                                    placeholder="شماره همراه">
                                <input label="username" type="text" name="member1Username" class="form-control dark"
                                    style="width:100%;height:37px;margin-top: 10px"
                                    placeholder="نام کاربری در بازی PUBG Mobile">
                            </div>
                            <div id="member2">
                                <input label="firstName" type="text" name="member2FirstName" class="form-control dark"
                                    style="width:100%;height:37px;margin-top: 10px" placeholder="نام">
                                <input label="lastName" type="text" name="member2LastName" class="form-control dark"
                                    style="width:100%;height:37px;margin-top: 10px" placeholder="نام خانوادگی">
                                <input label="phoneNumber" type="text" name="member2PhoneNumber"
                                    class="form-control dark" style="width:100%;height:37px;margin-top: 10px"
                                    placeholder="شماره همراه">
                                <input label="username" type="text" name="member2Username" class="form-control dark"
                                    style="width:100%;height:37px;margin-top: 10px"
                                    placeholder="نام کاربری در بازی PUBG Mobile">
                            </div>
                            <div id="member3">
                                <input label="firstName" type="text" name="member3FirstName" class="form-control dark"
                                    style="width:100%;height:37px;margin-top: 10px" placeholder="نام">
                                <input label="lastName" type="text" name="member3LastName" class="form-control dark"
                                    style="width:100%;height:37px;margin-top: 10px" placeholder="نام خانوادگی">
                                <input label="phoneNumber" type="text" name="member3PhoneNumber"
                                    class="form-control dark" style="width:100%;height:37px;margin-top: 10px"
                                    placeholder="شماره همراه">
                                <input label="username" type="text" name="member3Username" class="form-control dark"
                                    style="width:100%;height:37px;margin-top: 10px"
                                    placeholder="نام کاربری در بازی PUBG Mobile">
                            </div>
                            <div id="member4">
                                <input label="firstName" type="text" name="member4FirstName" class="form-control dark"
                                    style="width:100%;height:37px;margin-top: 10px" placeholder="نام">
                                <input label="lastName" type="text" name="member4LastName" class="form-control dark"
                                    style="width:100%;height:37px;margin-top: 10px" placeholder="نام خانوادگی">
                                <input label="phoneNumber" type="text" name="member4PhoneNumber"
                                    class="form-control dark" style="width:100%;height:37px;margin-top: 10px"
                                    placeholder="شماره همراه">
                                <input label="username" type="text" name="member4Username" class="form-control dark"
                                    style="width:100%;height:37px;margin-top: 10px"
                                    placeholder="نام کاربری در بازی PUBG Mobile">
                            </div>
                            <div id="teamName">
                                <input label="teamName" type="text" name="teamName" class="form-control dark"
                                    style="width:100%;height:37px;margin-top: 10px" placeholder="نام تیم">
                            </div>
                            <div style="overflow:hidden">
                                <div id="prevBtn" type="button" onclick="prevMember()"
                                    class="btn btn-warning float-right" style="margin:20px 0;">قبلی</div>
                                <div id="nextBtn" type="button" onclick="nextMember()"
                                    class="btn btn-warning float-left" style="margin:20px 0;">بعدی</div>
                                <input id="paybutton" type="submit" class="btn btn-success float-left" style="margin:20px 0;" value="پرداخت هزینه مسابقه" />
                            </div>
                            <div id="pagination" style="display:block;width:80%;margin:10px auto;">
                                <img src="/images/helmet-white.png" alt="" style="width:64px;margin:0 5px;">
                                <img src="/images/helmet-white.png" alt="" style="width:64px;margin:0 5px;">
                                <img src="/images/helmet-white.png" alt="" style="width:64px;margin:0 5px;">
                                <img src="/images/helmet-white.png" alt="" style="width:64px;margin:0 5px;">
                            </div>
                        </form>
                    </div>
                </div>
                <div class="col-md-8"
                    style="height:100vh;background-image:url('/images/DB4vZ2DWAAArElz.jpg');background-size: cover;">
                </div>
            </div>
        </div>
    </section>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script>
        let currentMember = 1;
        function isEmptyString(val)
        {
            return !(val != undefined && val != '' && val.replaceAll(' ', '') != '');
        }
        function setupForMember(index, dir)
        {
            $("#teamName").hide();
            $("#prevBtn").show();
            $("#nextBtn").show();
            $("#paybutton").hide();
            if (index == 1)
                $("#prevBtn").hide();
            if (index == 5)
            {
                $("#nextBtn").hide();
                $("#teamName").show();
                $("#header").html('تیم');
                $("#paybutton").show();
            }
            else
                $("#header").html(index == 1 ? 'سرگروه' : 'عضو ' + index.toString());
            $(`#member${index - dir}`).fadeOut(300);
            setTimeout(() =>
            {
                $(`#member${index}`).fadeIn();
                var images = $(`#pagination`).children('img');
                for (var i = 0; i < images.length; i++)
                {
                    $(images[i]).attr('src', (i + 1) < currentMember ? '/images/helmet-orange.png' : '/images/helmet-white.png');
                }

            }, 300);

        }
        $(document).ready(() =>
        {
            for (var i = 1; i < 5; i++)
            {
                $(`#member${i}`).hide(0);
            }
            setupForMember(currentMember);
            $("#signupForm").submit(function ()
            {
                for (var i = 1; i < 6; i++)
                {
                    if (!checkMember(i, false))
                    {
                        // alert('لطفا تمامی موارد را وارد کنید');
                        if (checkMember(i - 1, false))
                            nextMember();
                        return false;
                    }
                }
                return true;
            });
        });
        function nextMember()
        {
            if (!checkMember(currentMember))
                return;
            currentMember++;
            setupForMember(currentMember, 1);
        }
        function prevMember()
        {
            currentMember--;
            setupForMember(currentMember, -1);
        }
        function checkMember(index, doAlert = true)
        {
            if (index < 5)
            {
                var firstName = $(`#member${index} input[label=firstName]`).val();
                var lastName = $(`#member${index} input[label=lastName]`).val();
                var phoneNumber = $(`#member${index} input[label=phoneNumber]`).val();
                var username = $(`#member${index} input[label=username]`).val();
                if (isEmptyString(firstName) || isEmptyString(lastName) || isEmptyString(phoneNumber) || isEmptyString(username))
                {
                    if (doAlert)
                        alert("لطفا فیلد ها را پر کنید");
                    return false;
                }
            }
            else
            {
                var teamName = $("#teamName input").val();
                if (isEmptyString(teamName))
                {
                    if (doAlert)
                        alert('لطفا نام تیم خود را وارد کنید.')
                    return false;
                }
                if (teamName.length < 3)
                {
                    if (doAlert)
                        alert('نام تیم باید حداقل 3 حرفی باشد');
                    return false;
                }
            }
            return true;
        }
        function validate()
        {
            if (name == undefined || name.replace(' ', '') == '')
            {
                alert('لطفا نام خود را وارد کنید.');
                return false;
            }
            if (name.length < 3)
            {
                alert('لطفا نام خود را درست وارد کنید');
                return false;
            }
            if (lastname == undefined || lastname.replace(' ', '') == '')
            {
                alert('لطفا نام خانوادگی را وارد کنید.');
                return false;
            }
            if (phone == undefined || phone.replace(' ', '') == '')
            {
                alert('لطفا شماره همراه خود را وارد کنید.');
                return false;
            }
            if (phone.length < 11)
            {
                alert('لطفا حداقل 11 کاراکتر برای شماره خود را درست وارد کنید');
                return false;
            }
            if (username == undefined || username.replace(' ', '') == '')
            {
                alert('لطفا نام کاربری خود را وارد کنید.');
                return false;
            }
            return true;
        }
    </script>
    <script>
        // $(document).ready(function ()
        // {
        //     $("#signupbutton").click(function ()
        //     {
        //         var name = $("#name [name=firstName]").val();
        //         var lastname = $("#lastName [name=lastName]").val();
        //         var phone = $("#phoneNumber [name=phoneNumber]").val();
        //         var username = $("#username [name=username]").val();
        //     });
        // });
        let count = 0;
        function signupFunction()
        {
            if (count == 0)
            {
                $("#helmet1 img").attr("src", "/images/helmet-orange.png");
                document.getElementById('header').innerHTML = "عضو 1";
            }
            else if (count == 1)
            {
                $("#helmet2 img").attr("src", "/images/helmet-orange.png");
                document.getElementById('header').innerHTML = "عضو 2";
            }
            else if (count == 2)
            {
                $("#helmet3 img").attr("src", "/images/helmet-orange.png");
                document.getElementById('header').innerHTML = "عضو 3";
            }
            else if (count == 3)
            {
                $("#helmet4 img").attr("src", "/images/helmet-orange.png");
            }
            count = count + 1;
            if (count == 4)
            {
                document.getElementById('name').style.display = "none";
                document.getElementById('lastName').style.display = "none";
                document.getElementById('phoneNumber').style.display = "none";
                document.getElementById('username').style.display = "none";
                document.getElementById('signupbutton').style.display = "none";
                document.getElementById('paybutton').style.display = "inline";
                document.getElementById('header').style.display = "none";
                document.getElementById('topHeader').style.display = "none";
            }
        }
    </script>
    <!-- <script>
        $(document).ready(function ()
        {
            $("#signupbutton").click(function ()
            {
                var name = $("#pubgsignupForm [name=firstName]").val();
                var lastname = $("#pubgsignupForm [name=lastName]").val();
                var phone = $("#pubgsignupForm [name=phoneNumber]").val();
                var username = $("#pubgsignupForm [name=username]").val();
                if (name == undefined || name.replace(' ', '') == '')
                {
                    alert('لطفا نام خود را وارد کنید.');
                    return false;
                }
                if (name.length < 3)
                {
                    alert('لطفا نام خود را درست وارد کنید');
                    return false;
                }
                if (lastname == undefined || lastname.replace(' ', '') == '')
                {
                    alert('لطفا نام خانوادگی را وارد کنید.');
                    return false;
                }
                if (phone == undefined || phone.replace(' ', '') == '')
                {
                    alert('لطفا شماره همراه خود را وارد کنید.');
                    return false;
                }
                if (phone.length < 11)
                {
                    alert('لطفا حداقل 11 کاراکتر برای شماره خود را درست وارد کنید');
                    return false;
                }
                if (username == undefined || username.replace(' ', '') == '')
                {
                    alert('لطفا نام کاربری خود را وارد کنید.');
                    return false;
                }
                return true;
            });
        });
    </script> -->
</body>

</html>