<html>

<head>
    {{{head}}}
    <title>{{champion.title}}</title>
    <meta name="description" content="{{champion.description}}">
    <meta name="keywords" itemprop="keywords" content="{{_wogSEO.keywords}}">
    <link rel="canonical" href="http://worldofgamers.ir/">
    <meta property="og:locale" content="fa_IR">
    <meta property="og:type" content="article">
    <meta property="og:title" content="{{champion.title}}">
    <meta property="og:description" content="{{champion.description}}">
    <meta property="og:url" content="{{_wogSEO.fullUrl}}">
    <meta property="og:image" content="http://worldofgamers.ir/wog-logo.png">
    <meta property="og:site_name" content="واج">

    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@wogcompany">
    <meta name="twitter:description" content="{{champion.description}}">
    <meta name="twitter:title" content="{{champion.title}}">
    <meta name="twitter:image" content="http://worldofgamers.ir/images/wog-log.png">
    <style>
        .tabs-section {
            width: 100%;
            height: 65px;
            background-color: #22313c;
            color: white;
            position: fixed;
            top: 80px;
            right: 0;
            padding: 10px 0;
            z-index: 1000000;
        }

        .tabs-section-filler {
            width: 100%;
            height: 65px;
        }

        .btn-tab {
            border-radius: 25px;
            border: 2px solid white;
            margin: 0 2px;
        }

        .btn-tab:hover,
        .btn-tab.active {
            background-color: orange;
        }

        .header-section {
            background-image: url('/images/bloodmoon-twisted.jpg');
            background-color: #101010;
            background-position: center;
            background-size: cover;
            height: 450px;
            color: white;
            padding: 50px 0;
        }

        .header-section h1 {
            font-size: 55px;
        }

        .info-section {
            background-color: black;
            color: white;
            padding: 20px 0;
        }

        tab {
            display: block;
            width: 100%;
        }

        /* gallery classes */
        .gallery {
            background-color: black;
            width: 100%;
            background-repeat: no-repeat;
            background-size: cover;
            padding-top: 10px;
            margin-top: -16px;
            margin-bottom: -20px;
            padding: 10px;
        }

        .grid-box-small {
            height: 225px;
            display: block;
            width: 100%;
            background-size: cover;
            background-position: center;
        }

        .grid-box-big {
            height: 450px;
            width: 100%;

        }

        .grid-image-small {
            width: 100%;
            height: 225px;
        }

        .grid-image-big {
            width: 100%;
            height: 450px;
            background-size: cover;
            background-position: center;
        }

        .gallery-text {
            color: white;
            padding: 15px 0;
            font-size: 32px;
        }

        /* END gallery classes */
        .coming-soon-section {
            width: 100%;
            height: 80vh;
            background-size: cover;
            background-position: center;
            background-image: url('/images/mortal-coming-soon.jpg');
        }

        footer {
            margin-top: 0;
        }

        .variations-section {
            padding: 20px 0;
            background-color: black;
            color: white;
        }

        .variation-images {
            display: block;
            width: 60%;
            border-radius: 50%;
            margin-bottom: 10px;
            margin-right: auto;
            margin-left: auto;
        }

        .variation-title {
            font-size: 26px;
            font-weight: bolder;
        }

        .moves-section {
            width: 100%;
            background-size: cover;
            background-position: center;
            background-image: url('/images/mortal-home-desktop-blurry.jpg');
            padding: 20px 0;
            color: white;
        }

        .moves-slide {
            height: 410px;
        }

        .move-box {
            color: white;
            background-color: rgba(255, 255, 255, 0.1);
            padding: 10px 20px;
            margin-bottom: 10px;
            border-radius: 5px;
            position: relative;
            overflow: hidden;
        }

        .move-box.special {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .move-box .move-title {
            font-size: 18px;
        }

        .move-box .move-description {
            display: block;
        }

        .move-box .move-video {
            position: absolute;
            color: orange;
            font-size: 12px;
            top: 10px;
            left: 10px;
        }

        .move-box .move-buttons-list {
            margin-top: 5px;
            display: block;
            width: 100%;
            direction: ltr;
            text-align: left;
            float: left;
        }

        .move-box .move-buttons-list .move-button {
            display: inline-block;
            margin: 0 5px;
            width: 32px;
        }

        .side-bar-variations {
            position: fixed;
            top: 350px;
            right: 10px;
            color: #e0e1e2;
            font-size: 18px;
            z-index: 1000000;
        }

        .side-bar-variations .side-bar-item {
            cursor: pointer;
        }

        .side-bar-variations .side-bar-item:hover {
            font-size: 20px;
        }

        .side-bar-variations .side-bar-item.active {
            color: white;
            font-size: 22px;
            font-weight: bolder;
        }

        .carousel-control-prev {
            display: block;
            width: 64px;
            height: 64px;
            background-color: #3e3e3e;
            color: white;
            border-radius: 50%;
            padding: 20px 0;
            text-align: center;
            top: 40%;
            left: 50px;
        }

        .carousel-control-next {
            display: block;
            width: 64px;
            height: 64px;
            background-color: #3e3e3e;
            color: white;
            border-radius: 50%;
            padding: 20px 0;
            text-align: center;
            top: 40%;
            right: 50px;
        }

        .carousel-control-next-icon,
        .carousel-control-prev-icon {
            width: 24px;
            height: 24px;

        }
    </style>
</head>

<body>
    {{{navbar}}}
    <navfiller></navfiller>
    <section class="tabs-section-filler"></section>
    <section class="tabs-section">
        <div class="container">
            <div class="btn btn-md btn-tab" tab="info">اطلاعات کلی</div>
            <div class="btn btn-md btn-tab" tab="xl">آموزش XL</div>
            <div class="btn btn-md btn-tab" tab="11">آموزش 11</div>
            <div class="btn btn-md btn-tab" tab="mobile">آموزش موبایل</div>
        </div>
    </section>
    <section class="header-section" style="background-image:url('{{champion.cover}}')">
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-12">
                    <h1>{{champion.name}}</h1>
                    <div>{{{champion.description}}}</div>
                </div>
            </div>
        </div>
    </section>
    <tab tab="info">
        <section class="info-section">
            <div class="container">
                {{#hasLore}}
                {{{champion.lore}}}
                {{/hasLore}}
                {{^hasLore}}
                <div class="text-white text-center">
                    <h2>داستان این کاراکتر وارد نشده</h2>
                </div>
                {{/hasLore}}
            </div>
        </section>
        <section class="gallery">
            <div class="container">
                {{#hasMedia}}
                <h1 class="gallery-text">گالری:</h1>
                <div class="row" style="margin-bottom: 10px">
                    <div class="col-md-6 col-4" style="padding:0">
                        <a href="{{media.0.siteUrl}}">
                            <div class="grid-box-big" style="background-image:url('{{media.0.thumbnail_640x480}}');">
                            </div>
                        </a>
                    </div>
                    <div class="col-md-3 col-4" style="padding:0;">
                        <a href="{{media.1.siteUrl}}">
                            <div class="grid-box-small" style="background-image:url('{{media.1.thumbnail_640x480}}');">
                            </div>
                        </a>
                        <a href="{{media.2.siteUrl}}">
                            <div class="grid-box-small" style="background-image:url('{{media.2.thumbnail_640x480}}');">
                            </div>
                        </a>
                    </div>
                    <div class="col-md-3 col-4" style="padding:0">
                        <a href="{{media.3.siteUrl}}">
                            <div class="grid-box-small" style="background-image:url('{{media.3.thumbnail_640x480}}');">
                            </div>
                        </a>
                        <a href="{{media.4.siteUrl}}">
                            <div class="grid-box-small" style="background-image:url('{{media.4.thumbnail_640x480}}');">
                            </div>
                        </a>
                    </div>
                </div>
                <div class="text-center" style="padding:20px 0">
                    <a href="{{#SITE_URL}}/gallery/?champId={{champion._id}}{{/SITE_URL}}"
                        class="more-button btn btn-warning text-center">بیشتر</a>
                </div>
                {{/hasMedia}}
                {{^hasMedia}}
                <div class="text-white text-center" style="padding:20px 0">
                    <h2>هیچ عکسی در گالری برای این شخصیت یافت نشد.</h2>
                </div>
                {{/hasMedia}}
            </div>
        </section>
    </tab>
    <tab tab="xl">
        <section class="variations-section">
            <div class="container">
                <h1 style="font-size:32px;">تکنیک ها:</h1>
                <div class="row">
                    {{#championXL.variations}}
                    <div class="col-md-4 col-4 text-center">
                        <img class="variation-images" src="{{icon}}" alt="varitions {{name}}" width="100%">
                        <h1 class="variation-title">{{name}}</h1>
                    </div>
                    {{/championXL.variations}}
                </div>
            </div>
        </section>
        <!-- <div class="side-bar-variations" tab="xl">
            {{#championXL.variations}}
            <div class="side-bar-item" target="{{{_token}}}">{{name}}</div>
            {{/championXL.variations}}
        </div> -->
        {{#championXL.variations}}
        <section class="moves-section" variation="{{_token}}">
            <div class="container">
                <h1>{{name}}</h1>
            </div>
            <div id="carousel-variation-{{_token}}" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active moves-slide" slideindex="-1">
                        <div class="container">
                            <div class="row">
                                {{#_moves}}
                                <div class="col-md-6 move-box-wrapper">
                                    <div class="move-box {{#isSpecial}}special{{/isSpecial}}">
                                        <h2 class="move-title">{{name}}{{#isSpecial}}&nbsp;<span
                                                class="badge badge-md badge-warning">حرکت ویژه</span>{{/isSpecial}}</h2>
                                        <div class="move-description">{{{description}}}</div>
                                        {{#video}}
                                        <span class="move-video">
                                            <span class="fas fa-video"></span>&nbsp;
                                            مشاهده ویدئو این حرکت
                                        </span>
                                        {{/video}}
                                        <div class="move-buttons-list">
                                            {{#buttons}}
                                            <img class="move-button" src="/images/ps-buttons/{{.}}.png" />
                                            {{/buttons}}
                                        </div>
                                    </div>
                                </div>
                                {{/_moves}}
                                <!--end of col-6 -->
                            </div>
                        </div>
                    </div>
                </div>
                <a class="carousel-control-prev" href="#carousel-variation-{{_token}}" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carousel-variation-{{_token}}" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </section>
        {{/championXL.variations}}
    </tab>
    <tab tab="11">
        <section class="coming-soon-section"></section>
    </tab>
    <tab tab="mobile">
        <section class="coming-soon-section"></section>
    </tab>
    <script>
        $(() =>
        {
            let defaultTab = `{{defaultTab}}`;
            $("tab").hide();
            $(`.btn-tab[tab=${defaultTab}]`).addClass('active');
            $(`tab[tab=${defaultTab}]`).show();

            $(".btn-tab").click(function ()
            {
                $("tab").hide();
                let theTab = $(this).attr('tab');
                $(`tab[tab=${theTab}]`).show();
                $(`.btn-tab`).removeClass('active');
                $(`.btn-tab[tab=${theTab}]`).addClass('active');
                let t = parseInt($(`tab[tab=${theTab}]`).offset().top);
                $('html, body').animate({
                    scrollTop: t - 130,
                }, 600);
            });
            //xl moves sections:
            $('.carousel').carousel({
                interval: false,
            });
            let vartionsSections = $("tab[tab=xl] .moves-section");
            for (var i = 0; i < vartionsSections.length; i++)
            {
                //all moves for this varition are here are here:
                let movesBoxes = $(vartionsSections[i]).find(".move-box-wrapper");
                let slidesCount = parseInt(movesBoxes.length / 6);
                console.log($(vartionsSections[i]).attr('variation'));
                console.log('slides count for varition =' + slidesCount);
                let caraousel = $(vartionsSections[i]).find(".carousel-inner");
                //create slides:
                for (var j = 0; j < slidesCount; j++)
                {
                    $(caraousel).append(`
                    <div class="carousel-item moves-slide" slideindex="${j}">
                            <div class="container">
                            <div class="row">
                            </div>   
                    </div>
                    `);
                }
                console.log(movesBoxes.length);
                let slideIndex = -1;
                let row = undefined;
                for (var h = 0; h < movesBoxes.length; h++)
                {
                    if (h % 6 == 0)
                    {
                        slideIndex++;
                        row = $(caraousel).find(`.moves-slide[slideindex=${slideIndex}]`).find(".row");
                        console.log(row);
                    }
                    $(movesBoxes[h]).appendTo(row);
                }
                $(caraousel).find(`.moves-slide[slideindex=-1]`).remove();
                $(caraousel).find(`.moves-slide[slideindex=0]`).addClass('active');

            }
            // $(".side-bar-item").click(function ()
            // {
            //     let target = $(this).attr('target');
            //     console.log(target);
            //     $('html, body').animate({
            //         scrollTop: parseInt($(`.moves-section[variation=${target}]`).offset().top) - 130
            //     }, 2000);
            //     scroll_to();
            // });
            // $(window).on("scroll", function ()
            // {
            //     let scroll = $(window).scrollTop();
            //     let varitionsSections = $(".moves-section");
            //     console.log(varitionsSections.length);
            //     for (var i = 0; i < varitionsSections.length; i++)
            //     {
            //         let t = $(varitionsSections[i]).offset().top;
            //         let variation = $(varitionsSections[i]).attr('variation')
            //         console.log(variation);
            //         console.log(variation + '=>' + t +' while scroll is=>'+scroll);
            //         if (scroll > t - 125)
            //         {1
            //             console.log('we are after ' + variation);
            //             $(".side-bar-variations[tab=xl] .side-bar-item").removeClass("active");
            //             $(`.side-bar-variations[tab=xl] .side-bar-item[target=${variation}]`).addClass("active");
            //         }
            //     }
            // });
        });
    </script>
    {{{footer}}}
</body>

</html>