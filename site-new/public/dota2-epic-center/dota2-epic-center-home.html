<html>

<head>
    {{{head}}}
    <title>بازی های Playoffs ESL One Birmingham 2019</title>
    <meta name="description" content="{{_wogSEO.description}}">
    <meta name="keywords" itemprop="keywords" content="{{_wogSEO.keywords}}">
    <link rel="canonical" href="http://worldofgamers.ir/">

    <meta property="og:locale" content="fa_IR">
    <meta property="og:type" content="article">
    <meta property="og:title" content="بازی های Playoffs ESL One Birmingham 2019">
    <meta property="og:description" content="{{_wogSEO.description}}">
    <meta property="og:url" content="{{_wogSEO.fullUrl}}">
    <meta property="og:image" content="http://worldofgamers.ir/wog-logo.png">
    <meta property="og:site_name" content="واج">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@wogcompany">
    <meta name="twitter:description" content="{{_wogSEO.description}}">
    <meta name="twitter:title" content="بازی های Playoffs ESL One Birmingham 2019">
    <meta name="twitter:image" content="http://worldofgamers.ir/images/wog-logo.png">
    <style>
        footer {
            margin: 0;
        }

        .section-main {
            background-image: url('/dota2-epic-center/images/immortals_bg.jpg');
            background-position: center;
            background-size: 100% auto;
            padding-top: 20px;
            padding-bottom: 20px;
        }

        .player-details {
            background-color: #242029;
            margin-top: 10px;
            margin-bottom: 10px;
            padding: 10px 20px;
            border-radius: 10px
        }

        .see-rankings {
            display: block;
            background-image: url('/dota2-epic-center/images/green-book-logo.png');
            height: 130px;
            margin-top: 10px;
            margin-bottom: 10px;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            padding-top: 45px;
            border-radius: 20px
        }

        .see-rankings-text {
            color: white;
            text-decoration: none;
        }

        .see-rankings-text:hover {
            text-decoration: none;
            color: lightgray;
        }

        .bet-box {
            display: block;
            width: 100%;
            position: relative;
            min-height: 200px;
            border: 2px solid #d8064f;
            border-radius: 5px;
            margin-bottom: 10px;
            background: linear-gradient(160deg, #0d2740 0%, #1d203d 100%);
        }

        .bet-box.disabled {
            position: relative;
        }

        .bet-box.disabled .overlay {
            width: 100%;
            height: 100%;
            background-color: rgba(20, 20, 20, 0.7);
            z-index: 2;
            position: absolute;
            color: white;
            text-align: center;
            padding-top: 10px;
            font-size: 20px;
        }

        .bet-box .content {
            position: relative;
            z-index: 1;
        }

        .bet-box .match-title-row {
            padding: 10px 20px;
            color: white;
            border-bottom: 1px solid #d8064f;
            font-size: 14px;
        }

        .bet-box .team-row {
            display: block;
            width: 100%;
            height: 140px;
            position: relative;
            background-size: cover;
            background-position: center;
            cursor: pointer;
        }

        .bet-box .team-row:nth-of-type(1) {
            border-top-right-radius: 5px;
            border-top-left-radius: 5px;
            border-bottom: 1px solid #d8064f;
        }

        .bet-box .team-row .team-overlay {
            position: absolute;
            color: white;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            text-align: center;
            opacity: 0;
            transition: all 300ms;
            padding-top: 50px;
            font-weight: bold;
            text-shadow: 2px 3px 3px rgba(0, 0, 0, 0.6);
            font-size: 18px;
        }

        .bet-box .team-row:hover .team-overlay {
            opacity: 1;
        }

        .bet-box .team-row:hover .team-overlay span {
            display: inline;
        }

        .bet-box .team-row .team-selected-mark {
            display: none;
            position: absolute;
            top: 2px;
            left: 2px;
            color: white;
            text-align: center;
        }

        .bet-box .coins-row {
            display: block;
            width: 100%;
            overflow: hidden;
        }

        .bet-box .coins-row .coins-input-wrapper {
            position: relative;
            display: block;
            padding: 5px 10px;
        }

        .bet-box .coins-row .coins-input-wrapper .coins-icon {
            width: 32px;
            height: 32px;
            top: 10px;
            right: 15px;
            position: absolute;
        }

        .bet-box .coins-row .coins-input-wrapper .coins-input {
            padding-right: 40px;
            display: inline-block;
            width: 120px;
        }

        .bet-box .coins-row .coins-input-wrapper .warning-icon {
            display: inline-block;
            vertical-align: top;
            width: 32px;
            float: left;
        }

        .bet-box .coins-row .coins-input-wrapper .warning-text {
            display: inline;
            color: white;
            font-size: 14px;
            float: left;
            padding-top: 8px;
            padding-right: 5px;
        }

        .bet-box .form-control[readonly] {
            background-color: #ccc;
            border: 3px solid #aaa;
        }

        .bet-box .message-row {
            color: #a00;
            padding: 10px 20px;
        }

        /* selected behaviour */
        .bet-box .team-row.selected {
            border: 1px solid greenyellow;
        }

        .bet-box .team-row.selected .team-overlay {
            display: none !important;
            opacity: 0 !important;
        }

        .bet-box .team-row.selected .team-selected-mark {
            display: block;
        }

        /* not-selected behaviour */
        .bet-box .team-row.not-selected .team-overlay {
            display: block !important;
            opacity: 1 !important;
        }

        .bet-box .team-row.not-selected .team-overlay span {
            display: none !important;
        }

        .bet-box .team-row.not-selected .team-selected-mark {
            display: none !important;
        }

        /* picked behaviour */
        .bet-box .team-row.picked {
            border: 1px solid greenyellow;
        }

        .bet-box .team-row.picked .team-selected-mark {
            display: block;
        }

        /* not-picked behaviour */
        .bet-box .team-row.not-picked .team-overlay {
            opacity: 1;
        }

        .bet-box .team-row.not-picked .team-overlay span {
            display: none;
        }

        .bet-box .team-row.not-picked:hover .team-overlay span {
            display: inline;
        }

        .get-coin-box {
            background-color: #202d4f;
            border: 2px solid #38486d;
            border-radius: 10px;
            display: inline-block;
        }

        .get-coin-box-footer {
            border-top: 2px solid #38486d;
            padding: 10px 5px;
        }
    </style>
</head>

<body>
    {{{navbar}}}
    <navfiller></navfiller>
    <section class="section-main">
        <div class="container">
            <div class="row">
                <div class="col-md-4 col-12">
                    <div class="player-details">
                        <div class="row">
                            <div class="col-md-4 col-4">
                                <img src="/dota2-epic-center/images/Ti9_battle_pass.png" style="width:100%" alt="">
                            </div>
                            <div class="col-md-8 col-8">
                                <h2 style="color:white;font-weight: bold">{{currentUser.username}}</h2>
                                <h6 style="color: white">رتبه:{{rank}}</h6>
                                <h6 style="color:orange">
                                    سکه:&nbsp;<span>{{currentUser.dota2EpicCenter2019.coins}}</span></h6>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4"></div>
                <div class="col-md-4 col-12">
                    <a class="see-rankings text-center" href="{{#SITE_URL}}/dota2-epic-center/leaderboard{{/SITE_URL}}">
                        <span class="see-rankings-text" href="#">مشاهده رتبه بندی‌ها</span>
                    </a>
                </div>
            </div><!-- end of row-->
            <h2 style="color:white;margin-bottom: 10px">{{{PAGE_CONFIG.title}}}</h2>
            <p style="color:white">{{{PAGE_CONFIG.description}}}</p>
            <div class="text-center" style="padding:10px 0;">
                <a href="https://t.me/wogCompany" target="_blank"><span class="fab fa-telegram"
                        style="font-size:36px;"></span></a>&nbsp;&nbsp;&nbsp;
                <a href="https://www.instagram.com/wogcompany/" target="_blank"><span class="fab fa-instagram"
                        style="font-size:36px;color:orange;"></span></a>&nbsp;&nbsp;&nbsp;
                <a href="https://discord.gg/PXG96F3" target="_blank"><span class="fab fa-discord"
                        style="font-size:36px;color:#673AB7;"></span></a>
            </div>
            <div class="text-center">
                {{{TWITCH_CODE_STR}}}
            </div>
            <!-- <div class="alert alert-danger">دقت داشته باشید! در مرحله حذفی(Playoffs) در صورتی که پیش بینی شما اشتباه
                باشد سکه از دست می دهید!</div> -->
            <!-- warning sign -->
            <div class="alert alert-warning" id="warning-alert" style="display:none">^_^</div>
            <!-- start form -->
            <form id="bets-form" action="/dota2-epic-center/submit-bets" method="POST">
                <div id="active-games"></div>
                <hr />
                <div class="btn btn-md btn-info" id="old-games-btn" style="margin:20px 0;">مشاهده بازی های گذشته</div>
                <div id="old-games" style="display:none;"></div>
                <script>
                    $(() =>
                    {
                        $("#old-games-btn").click(() =>
                        {
                            $("#old-games").toggle();
                        });
                    });
                </script>

                <div name="submit-wrapper" style="color:white;">
                    <input type="submit" class="btn btn-md btn-warning" value="ثبت پیش بینی ها" />
                </div>
            </form>
            <script>
                //create data , functions:
                const TEAMS = JSON.parse(`{{{TEAMS}}}`);
                const ACTIONS = JSON.parse(`{{{ACTIONS}}}`);
                const ACTIONS_CATS = JSON.parse(`{{{ACTIONS_CATS}}}`);
                console.log(TEAMS);
                console.log(ACTIONS);
                console.log(ACTIONS_CATS);
                const currentUser = {
                    _id: `{{currentUser._id}}`,
                    username: `{{currentUser.username}}`,
                    token: `{{{currentUser.token}}}`,
                    dota2EpicCenter2019: JSON.parse(`{{{DOTA2_EPIC_CENTER_2019}}}`),
                };
                console.log(currentUser);
                $(() =>
                {
                    let hasInActiveCat = false;
                    for (var i = 0; i < ACTIONS_CATS.length; i++)
                    {
                        let cat = ACTIONS_CATS[i];
                        let parent = cat.active ? '#active-games' : '#old-games';
                        let bets = get_actions_for_category(cat.token);
                        console.log(cat.token + '=>' + bets.length);
                        if (!cat.active)
                            hasInActiveCat = true;
                        if (bets.length == 0)
                            $(parent).append(`<h3 class="text-english" style="color:white">${cat.title}</h3><div class="row" id="${cat.token}"><div class="col-12 text-center text-white">به زودی اعلام می شود.</div></div></div>`);
                        else                            
                        {
                            $(parent).append(`<h3 class="text-english" style="color:white">${cat.title}</h3><div class="row" id="${cat.token}"></div>`);
                            for (var j = 0; j < bets.length; j++)
                            {
                                render_bet("#" + cat.token, bets[j], get_team(bets[j].options[0]), get_team(bets[j].options[1]));
                            }
                        }
                    }
                    $(".bet-box .team-row").click(function ()
                    {
                        let betBox = $(this).closest('.bet-box');
                        let betToken = $(betBox).attr('betToken');
                        let bet = getBet(betToken);
                        let team = get_team($(this).attr('team'));
                        let userBet = getUserBet(betToken);
                        if (userBet != undefined)
                        {
                            console.log('have userBet for this bet!');
                            return;
                        }
                        //update views:
                        let hiddenInput = $(betBox).find('input[type=hidden]');
                        $(hiddenInput).val(team.token);
                        let teamRows = $(betBox).find('.team-row');
                        $(teamRows).removeClass('picked');
                        $(teamRows).removeClass('not-picked');
                        for (var i = 0; i < teamRows.length; i++)
                        {
                            let t = $(teamRows[i]).attr('team');
                            if (t == team.token)
                                $(teamRows[i]).addClass('picked');
                            else
                                $(teamRows[i]).addClass('not-picked');
                        }
                        //check coins input:
                        let messageRow = $(betBox).find('.message-row');
                        let coinsVal = parseInt($(betBox).find('input[type=number]').val());
                        if (isNaN(coinsVal))
                        {
                            $(messageRow).html('مقدار سکه ها را نیز وارد کنید.');
                        }
                        else if (coinsVal <= 0)
                        {
                            $(messageRow).html('مقدار سکه ها صحیح نیست.');
                        }
                        else if (coinsVal > bet.maxCoins)
                        {
                            $(messageRow).html('مقدار سکه ها بیشتر از حداکثر مجاز است.');
                        }
                        else
                            $(messageRow).html('');
                    });
                    $(".bet-box input[type=number]").change(function ()
                    {
                        let betBox = $(this).closest('.bet-box');
                        let betToken = $(betBox).attr('betToken');
                        let bet = getBet(betToken);
                        let team = get_team($(this).attr('team'));
                        let userBet = getUserBet(betToken);
                        let coinsVal = $(this).val();
                        let hiddenInputVal = $(betBox).find('input[type=hidden]').val();
                        let messageRow = $(betBox).find('.message-row');
                        if (isEmptyString(hiddenInputVal))
                        {
                            $(messageRow).html('تیم برنده را نیز مشحخص کنید.');
                        }
                        else if (isNaN(coinsVal))
                        {
                            $(messageRow).html('مقدار سکه ها را نیز وارد کنید.');
                        }
                        else if (coinsVal <= 0)
                        {
                            $(messageRow).html('مقدار سکه ها صحیح نیست.');
                        }
                        else if (coinsVal > bet.maxCoins)
                        {
                            $(messageRow).html('مقدار سکه ها بیشتر از حداکثر مجاز است.');
                        }
                        else
                            $(messageRow).html('');
                    });
                    $("#bets-form").submit(function ()
                    {
                        let betBoxes = $(".bet-box");
                        let coinsSum = 0;
                        for (var i = 0; i < betBoxes.length; i++)
                        {
                            let box = $(betBoxes[i]);
                            let betToken = $(box).attr('betToken');
                            let bet = getBet(betToken);
                            let teamA = get_team($(box).attr('teamA'));
                            let teamB = get_team($(box).attr('teamB'));
                            let userBet = getUserBet(betToken);
                            if (!bet.active)
                                continue;
                            if (userBet != undefined)
                                continue;
                            let betPick = $(box).find('input[type=hidden]').val();
                            let betCoins = parseInt($(box).find('input[type=number]').val());
                            console.log(betToken + '=>' + betPick + '=>' + betCoins);
                            if (isEmptyString(betPick))
                            {
                                if (!isNaN(betCoins))
                                {
                                    alert('برنده مسابقه ' + teamA.name + ' در برابر ' + teamB.name + ' را مشخص کنید.');
                                    return false;
                                }
                            }
                            else
                            {
                                if (isNaN(betCoins) || betCoins <= 0)
                                {
                                    alert('سکه ها را برای مسابقه ' + teamA.name + ' در برابر ' + teamB.name + ' وارد کنید.');
                                    return false;
                                }
                                else if (betCoins > bet.maxCoins)
                                {
                                    alert('سکه ها برای مسابقه ' + teamA.name + ' در برابر ' + teamB.name + ' بیش از حد مجاز می باشد.');
                                    return false;
                                }
                                else
                                    coinsSum += betCoins;
                            }
                        }
                        if (coinsSum > currentUser.dota2EpicCenter2019.coins)
                        {
                            alert('بیش از موجودی خود سکه وارد کرده اید.');
                            return false;
                        }
                        return true;
                    });
                    if (!hasInActiveCat)
                        $("#old-games-btn").hide();
                });
                //data functions:
                function get_actions_for_category(catToken)
                {
                    let results = [];
                    for (var i = 0; i < ACTIONS.length; i++)
                    {
                        if (ACTIONS[i].category == catToken)
                            results.push(ACTIONS[i]);
                    }
                    return results;
                }
                function get_team(token)
                {
                    for (var i = 0; i < TEAMS.length; i++)
                    {
                        if (TEAMS[i].token == token)
                            return TEAMS[i];
                    }
                    return undefined;
                }
                function getUserBet(betToken)
                {
                    for (var i = 0; i < currentUser.dota2EpicCenter2019.bets.length; i++)
                        if (currentUser.dota2EpicCenter2019.bets[i].token == betToken)
                            return currentUser.dota2EpicCenter2019.bets[i];
                    return undefined;
                }
                function getBet(token)
                {
                    for (var i = 0; i < ACTIONS.length; i++)
                        if (ACTIONS[i].token == token)
                            return ACTIONS[i];
                    return undefined;
                }
                //render functions:
                function render_bet(parent, bet, teamA, teamB)
                {
                    // let betToken = 'matchup_' + teamA.token + '_vs_' + teamB.token;
                    let betToken = bet.token;
                    // let bet = getBet(betToken);
                    if (bet == undefined)
                        return;
                    let userBet = getUserBet(betToken);
                    let disabledOverlay = '', hiddenInput = '', aRowSelected = '', bRowSelected = '', message = '';
                    if (!bet.active)
                    {
                        if (!isEmptyString(bet.answer) && bet.answer != "undefined")
                        {
                            if (userBet == undefined)
                            {
                                message = 'مهلت پیش بینی این بازی تمام شده و شما شرکت نکردید.';
                            }
                            else
                            {
                                console.log(bet.token + '=>' + bet.answer);
                                if (userBet.value == bet.answer)
                                    message = '<span style="color:greenyellow">' + 'مهلت پیش بینی این بازی تمام شده و شما نتیجه بازی را به درستی پیش بینی کردید.' + '</span>';
                                else
                                    message = 'مهلت پیش بینی این بازی تمام شده و شما نتیجه بازی را به درستی پیش بینی نکردید.';
                            }
                        }
                        disabledOverlay = `<div class="overlay">${message == '' ? 'فرصت پیش بینی برای این بازی به پایان رسیده است،منتظر نتیجه بازی باشید.' : message}</div>`;
                    }
                    else
                    {
                        if (userBet == undefined)
                        {
                            hiddenInput = `<input type="hidden" name="${bet.token}" value=""/>`;
                            aRowSelected = '';
                            bRowSelected = '';
                        }
                        else
                        {
                            hiddenInput = '';
                            aRowSelected = userBet.value == teamA.token ? 'selected' : 'not-selected';
                            bRowSelected = userBet.value == teamB.token ? 'selected' : 'not-selected';
                        }
                    }
                    console.log(bet);
                    let title = bet.title;
                    title = title.replace('Match 1', '<b style="color:orange">Match 1</span>').replace('Match 2', '<b style="color:orange">Match 2</span>');
                    $(parent).append(`
                        <div class="col-md-4 col-12">
                            <div class="bet-box ${bet.active ? '' : 'disabled'}" betToken="${bet.token}" teamA="${teamA.token}" teamB="${teamB.token}">
                                ${disabledOverlay}
                                ${hiddenInput}
                                <div class="content">
                                    <div class="match-title-row text-english">${title}</div>
                                    <div class="team-row ${aRowSelected}" style="background-image:url('${teamA.cover}')" team="${teamA.token}">
                                        <div class="team-overlay"><span>${(aRowSelected != 'selected') ? ('انتخاب ' + teamA.name) : (teamA.name + ' انتخاب شده است.')}</span></div>
                                        <div class="team-selected-mark">
                                            <span class="badge badge-warning">
                                                <span class="fas fa-${aRowSelected != 'selected' ? 'check' : 'lock'}"></span>&nbsp;انتخاب شما
                                            </span>
                                        </div>
                                    </div>
                                    <div class="team-row ${bRowSelected}" style="background-image:url('${teamB.cover}')" team="${teamB.token}">
                                        <div class="team-overlay"><span>${(bRowSelected != 'selected') ? ('انتخاب ' + teamB.name) : (teamB.name + ' انتخاب شده است.')}</span></div>
                                        <div class="team-selected-mark">
                                            <span class="badge badge-warning">
                                                <span class="fas fa-${bRowSelected != 'selected' ? 'check' : 'lock'}"></span>&nbsp;انتخاب شما
                                            </span>
                                        </div>
                                    </div>
                                    <div class="coins-row">
                                        <div class="coins-input-wrapper">
                                            <img class="coins-icon" src="/dota2-epic-center/images/coins.png"/>
                                            <input type="number" name="${bet.token}-betCoins" value="${userBet != undefined ? userBet.coins : ''}" ${userBet != undefined ? 'readonly' : ''} placeholder="سکه ها" class="form-control coins-input "/> 
                                            <span class="warning-text">حداکثر ${bet.maxCoins} سکه</span>
                                            <img class="warning-icon" src="/dota2-epic-center/images/error.png"/>
                                        </div>
                                    </div>
                                    <div class="message-row">
                                        ${message}
                                    </div>
                                </div>
                            </div>
                        </div>
                    `);
                }
            </script>
            <!-- end form logic -->
            <!-- other ways of earning money -->
            <h1 style="color:white">سکه میخوای؟</h1>
            <div class="row">
                <div class="col-md-4 col-6">
                    <div class="get-coin-box">
                        <div class="text-center">
                            <img src="/dota2-epic-center/images/twitch-logo.png" style="width:40%;padding-top: 10px"
                                alt="Twitch Logo">
                            <h6 style="color:white;margin-top: 10px">صفحه توییچ واج را دنبال کنید</h6>
                        </div>
                        <p style="color:lightgrey;font-size: 12px;padding-right: 10px">به بخش <span><a
                                    href="/users/{{currentUser.username}}/edit" class="profile-link"> ویرایش مشخصات
                                    کاربری </a></span>رفته و آیدی توییچ
                            خود را وارد کنید و صفحه توییچ <a href="https://twitch.tv/Amirphanthom"
                                class="text-english orange-link" target="_blank">Amirphanthom</a> را دنبال کنید،سپس دکمه
                            بررسی
                            را فشار دهید.</p>
                        <div class="get-coin-box-footer">
                            <div style="position: relative;display:inline-block;width: 40%">
                                <img style="position: absolute;width: 25%;padding-top: 4px"
                                    src="/dota2-epic-center/images/coins.png" />
                                <button type="button" class="btn btn-success"
                                    style="padding-right: 30px;width: 100%;font-size: 14px">جایزه 300 سکه</button>
                            </div>
                            <div style="position: relative;display:inline-block;width: 40%">
                                <div onclick="checkTwitchFollower('AmirPhanThom',this)" id="btn_follow_twitch"
                                    type="button" class="btn btn-warning"
                                    style="width: 100%;font-size: 14px;margin-right: 50px">بررسی</div>
                                <div id="label_follow_twitch" type="button" class="btn btn-success"
                                    style="width: 100%;font-size: 14px;margin-right: 50px;display:none;">انجام شده
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 col-6">
                    <div class="get-coin-box">
                        <div class="text-center">
                            <img src="/images/Hemayat.png" style="width:40%;padding-top: 10px" alt="">
                            <h6 style="color:white;margin-top: 10px">واج را به دوستان خود معرفی کنید</h6>
                        </div>
                        <p style="color:lightgrey;font-size: 12px;padding-right: 10px">
                            لینک زیر را با دوستان خود به اشتراک بگذارید پس از اینکه آنها با کد معرفی شما عضو واج شوند
                            سکه کسب می کنید.
                            <a class="orange-link"
                                href="http://worldofgamers.ir/signup/?refferer={{{currentUser.username}}}">http://worldofgamers.ir/signup/?refferer={{{currentUser.username}}}</a>
                        </p>
                        <div class="get-coin-box-footer">
                            <div type="button" class="btn btn-md btn-success"
                                style="padding-right: 30px;width: 100%;font-size: 14px">جایزه 50 سکه به ازای هر کاربر
                            </div>
                            <div type="button" class="btn btn-md btn-info"
                                style="padding-right: 30px;width: 100%;font-size: 14px">1000 سکه جایزه به ازای معرفی 10
                                کاربر</div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 col-6">
                    <div class="get-coin-box">
                        <div class="text-center">
                            <img src="/images/Hemayat.png" style="width:40%;padding-top: 10px" alt="">
                            <h6 style="color:white;margin-top: 10px">در کوئیز روزانه اطلاعات عمومی Dota شرکت کنید</h6>
                        </div>
                        <p style="color:lightgrey;font-size: 12px;padding-right: 10px">
                            شما هر روز می توانید در کوئیز Dota شرکت کنید و تا وقتی که به سوالات درست پاسخ می دهید سکه
                            کسب کنید.
                        </p>
                        <div class="get-coin-box-footer">
                            <div type="button" class="btn btn-md btn-success"
                                style="padding-right: 30px;width: 100%;font-size: 14px">
                                <img style="width:32px;" src="/dota2-epic-center/images/coins.png" />
                                جایزه 10 سکه به ازای هر پاسخ صحیح</div>
                            <a href="/dota2-epic-center/enter-quiz" target="_blank" type="button"
                                class="btn btn-md btn-warning"
                                style="padding-right: 30px;width: 100%;font-size: 14px">شرکت در کوئیز امروز</a>
                        </div>
                    </div>
                </div>
            </div>
            <h1 style="color:white;margin:10px 0;">کاربر های معرفی شده توسط شما:</h1>
            <div id="invited-users-list">
                {{#currentUser.dota2EpicCenter2019._invites}}
                <div class="btn btn-md btn-info invited-user-btn"><img src="{{{profileImage}}}"
                        style="width:48px;height:48px;border-radius:50%;" />&nbsp;{{{username}}}</div>
                {{/currentUser.dota2EpicCenter2019._invites}}
            </div>
            <script>
                $(() =>
                {
                    let invitedUsersButtons = $(".invited-user-btn");
                    if (invitedUsersButtons.length == 0)
                        $("#invited-users-list").html(`<div class="text-center text-white">` + 'شما هنوز کسی را معرفی نکردید.' + `</div>`);
                });
            </script>
            <script>
                let twitchLoading = false;
                $(() =>
                {
                    let hasFollowedTwitch = false;
                    for (var i = 0; i < currentUser.dota2EpicCenter2019.actions.length; i++)
                    {
                        let a = currentUser.dota2EpicCenter2019.actions[i];
                        if (a.token == 'follow_twitch')
                        {
                            $("#btn_follow_twitch").hide();
                            $("#label_follow_twitch").show();
                            hasFollowedTwitch = true;
                            break;
                        }
                    }
                    if (!hasFollowedTwitch)
                    {
                        $("#warning-alert").html('شما می توانید با دنبال کردن توییچ سکه بیشتری کسب کنید برای پیش بینی ها.');
                        $("#warning-alert").show();
                    }
                });
                function checkTwitchFollower(channelName, btn)
                {
                    if (twitchLoading)
                        return;
                    $(btn).html('در حال بارگذاری...');
                    twitchLoading = true;
                    fetch('/dota2-epic-center/check-twitch/?channelName=' + channelName, {
                        method: 'GET',
                    }).then((response) => response.json()).then((result) =>
                    {
                        if (result.code == 400)
                        {
                            twitchLoading = false;
                            $(btn).html('بررسی مجدد');
                            alert('به بخش ویرایش اطلاعات کاربری رفته و آیدی توییچ خود را وارد کنید.');
                            return;
                        }
                        if (result.code == 500)
                        {
                            twitchLoading = false;
                            $(btn).html('بررسی مجدد');
                            alert('خطای سرور:' + result.error.toString());
                            return;
                        }
                        alert('با موفقیت انجام شد.');
                        $(btn).html('انجام شده');
                        location.reload();
                    }).catch((err) =>
                    {
                        twitchLoading = false;
                        $(btn).html('بررسی مجدد');
                        alert('خطای سرور:' + err.toString());
                    });
                }
            </script>
            <!-- end of other ways of earning money-->
        </div> <!-- end of container -->
    </section>
    {{{footer}}}
</body>

</html>