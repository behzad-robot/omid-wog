<html>

<head>
    {{{head}}}
    <title>Games List</title>
    <style>

    </style>
</head>

<body>
    {{{actionbar}}}
    <div class="container">
        <h2>Games:</h2>
        <a href="/admin/games/new" class="btn btn-md btn-info">+New Game</a>
        <hr />
        <div id="loading" class="text-center">
            <div class="lds-ripple">
                <div></div>
                <div></div>
            </div>
        </div>
        <div id="list">
        </div>
        <script>
            findObjects('games', (games) =>
            {
                console.log((games));
                for (var i = 0; i < games.length; i++)
                {
                    var game = games[i];
                    $("#list").append(
                        `<div class="box-row">`
                        + `<h4>${game.name}</h4>`
                        + `<p><b>token: </b>${game.token}<br/>${game.description}</p><hr/>`
                        + `<small><b>createdAt: </b>${game.createdAt}</small>&nbsp;&nbsp;<small><b>updatedAt:</b>${game.updatedAt}</small><hr />`
                        + `<div class="text-right"><a class="btn btn-md btn-info" href="/admin/games/${game._id}">Edit</a></div>`
                        + `</div>`
                    );
                }
                $("#loading").hide();
            });
        </script>
    </div>
    {{{footer}}}
</body>

</html>